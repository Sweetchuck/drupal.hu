@import "../lib";

.progress {
  &__track {
    $box-shadow-color: hsla(0, 0%, 0%, 0.16);

    border-radius: 10em;
    border-color: $gray-500;
    background-color: $gray-200;
    background-image: linear-gradient($gray-300, $gray-200);
    box-shadow: inset 0 1px 3px $box-shadow-color;
  }

  &__bar {
    $gradient-base-a: rgba(0, 0, 0, 0);
    $gradient-base-b: rgba(0, 0, 0, 0.15);

    height: 16px;
    margin-top: -1px;
    margin-left: -1px;
    padding: 0 1px;
    transition: width 0.5s ease-out;
    border: 1px $accent-dark solid;
    border-radius: 10em;
    background: $brand-primary-d1;
    background-image:
    linear-gradient(
      to bottom,
      $gradient-base-a,
      $gradient-base-b
    ),
    linear-gradient(
      to right bottom,
      $brand-primary-l1 0%,
      $brand-primary-l1 25%,
      $brand-primary-d1 25%,
      $brand-primary-d1 50%,
      $brand-primary-l1 50%,
      $brand-primary-l1 75%,
      $brand-primary-l1 100%
    );
    background-size: 40px 40px;

    [dir="rtl"] & {
      animation-direction: reverse;
      -webkit-animation-direction: reverse;
      -moz-animation-direction: reverse;
    }
  }
}

@media screen and (prefers-reduced-motion: reduce) {
  .progress__bar {
    transition: none;
  }
}

@-webkit-keyframes animate-stripes {
  0% {
    background-position: 0 0, 0 0;
  }

  100% {
    background-position: 0 0, -80px 0;
  }
}

@-ms-keyframes animate-stripes {
  0% {
    background-position: 0 0, 0 0;
  }

  100% {
    background-position: 0 0, -80px 0;
  }
}

@keyframes animate-stripes {
  0% {
    background-position: 0 0, 0 0;
  }

  100% {
    background-position: 0 0, -80px 0;
  }
}
